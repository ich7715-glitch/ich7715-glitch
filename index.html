<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>아이폰17 출시 카운트</title>
  <meta name="theme-color" content="#0b0b0c">
  <style>
    :root{
      --bg: #0b0b0c;
      --fg: #ffffff;
      --accent: #22c55e; /* green for 'start' */
      --muted: #9CA3AF;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "맑은 고딕", sans-serif;
      color:var(--fg);
      background: radial-gradient(1200px 800px at 80% -10%, rgba(34,197,94,.2), transparent 60%),
                  radial-gradient(1000px 600px at -10% 110%, rgba(59,130,246,.25), transparent 60%),
                  var(--bg);
      display:flex;align-items:center;justify-content:center;
      padding:24px;
    }
    .card{
      width:100%;
      max-width:640px;
      border-radius:24px;
      padding:28px;
      background: rgba(17,17,18,.65);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255,255,255,.08);
      box-shadow: 0 10px 40px rgba(0,0,0,.5);
      text-align:center;
    }
    h1{
      margin:0 0 12px;
      font-size: clamp(22px, 4.8vw, 34px);
      letter-spacing:-0.02em;
    }
    .sub{color:var(--muted); margin-bottom:22px; font-size: clamp(13px, 2.5vw, 16px);}
    .timer{
      display:flex;justify-content:space-between;gap:10px;
      margin: 12px auto 18px;
    }
    .seg{
      flex:1; background:#0f1013; border:1px solid rgba(255,255,255,.06);
      border-radius:16px; padding:16px 10px;
    }
    .num{
      font-variant-numeric: tabular-nums;
      font-weight: 800;
      font-size: clamp(30px, 11vw, 64px);
      line-height: 1;
      letter-spacing: .02em;
    }
    .label{margin-top:8px;color:var(--muted);font-size:12px}
    .cta{
      display:inline-block; margin-top:10px; padding:14px 18px; border-radius:14px;
      background: linear-gradient(135deg, #6366f1, #8b5cf6);
      color:white; text-decoration:none; font-weight:700; font-size:16px;
      box-shadow: 0 6px 24px rgba(99,102,241,.35);
    }
    .hint{margin-top:10px; color:#a1a1aa; font-size:12px}
    footer{margin-top:16px;color:#6b7280;font-size:11px}
    .started{color:var(--accent); font-weight:800; font-size: clamp(20px, 5vw, 28px); margin:6px 0 2px}
    /* confetti */
    canvas{position:fixed; inset:0; pointer-events:none;}
  </style>
</head>
<body>
  <canvas id="confetti"></canvas>
  <main class="card" role="main" aria-live="polite">
    <h1 id="title">아이폰17 출시 카운트</h1>
    <p id="sub" class="sub">출시까지 남은 시간</p>
    <section class="timer" aria-label="카운트다운 타이머">
      <div class="seg"><div id="d" class="num">00</div><div class="label">일</div></div>
      <div class="seg"><div id="h" class="num">00</div><div class="label">시간</div></div>
      <div class="seg"><div id="m" class="num">00</div><div class="label">분</div></div>
      <div class="seg"><div id="s" class="num">00</div><div class="label">초</div></div>
    </section>
    <a id="cta" class="cta" href="#" target="_blank" rel="noopener">사전예약 및 무료상담</a>
    <div class="hint">
    <strong>옆커폰 아이폰17 지원금 최대 110만원!</strong> 원하는 색상·용량 놓치기 전에 빨리 접수하세요 🚀
    </div>
    <footer id="state"></footer>
  </main>
  <!-- ===== 설정 =====
    사전예약 시작 시각(KST)과 CTA 링크를 수정하세요.
    예: '2025-09-09T00:00:00+09:00'
  =================== -->
  <script>
    const startAt = '2025-09-09T00:00:00+09:00'; // START 시각 (KST)
    const ctaLink = 'https://simte.xyz/AI'; // 사전예약 및 무료상담
    document.getElementById('cta').href = ctaLink;

    const dEl = document.getElementById('d');
    const hEl = document.getElementById('h');
    const mEl = document.getElementById('m');
    const sEl = document.getElementById('s');
    const stateEl = document.getElementById('state');
    const titleEl = document.getElementById('title');
    const subEl = document.getElementById('sub');
    const start = new Date(startAt);

    function pad(n){ return String(n).padStart(2,'0'); }

    function tick(){
      const now = new Date();
      let diff = start - now;
      if (isNaN(start.getTime())){
        stateEl.textContent = '설정 오류: startAt 값을 올바르게 입력하세요.';
        return;
      }
      if (diff <= 0){
        dEl.textContent = '00'; hEl.textContent = '00'; mEl.textContent = '00'; sEl.textContent = '00';
        titleEl.textContent = '아이폰17 출시 START!';
        subEl.outerHTML = '<div class="started">지금 바로 접수하세요</div>';
        stateEl.textContent = '아이폰17이 출시 되었습니다.';
        launchConfetti();
        return; // 시작 시 한 번만 축포
      }
      const sec = Math.floor(diff / 1000);
      const days = Math.floor(sec / 86400);
      const hours = Math.floor((sec % 86400) / 3600);
      const mins = Math.floor((sec % 3600) / 60);
      const secs = sec % 60;
      dEl.textContent = pad(days);
      hEl.textContent = pad(hours);
      mEl.textContent = pad(mins);
      sEl.textContent = pad(secs);
      stateEl.textContent = 'KST 기준 ' + startAt + ' 시작';
      requestAnimationFrame(()=>setTimeout(tick, 1000 - (Date.now() % 1000)));
    }

    // 간단한 confetti
    function launchConfetti(){
      const canvas = document.getElementById('confetti');
      const ctx = canvas.getContext('2d');
      let w, h; function resize(){w=canvas.width=innerWidth; h=canvas.height=innerHeight}
      resize(); addEventListener('resize', resize);
      const pieces = Array.from({length: 220}, ()=> ({
        x: Math.random()*w,
        y: Math.random()*-h,
        r: 2 + Math.random()*4,
        s: 1 + Math.random()*3,
        a: Math.random()*Math.PI*2
      }));
      let t = 0, frames = 0;
      function draw(){
        frames++; if(frames>240){ // 약 4초간 재생
          ctx.clearRect(0,0,w,h); return;
        }
        ctx.clearRect(0,0,w,h);
        for(const p of pieces){
          p.y += p.s*3;
          p.x += Math.sin((t+p.y)/30)*1.5;
          p.a += 0.05;
          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.a);
          ctx.fillStyle = ['#22c55e','#a78bfa','#60a5fa','#f59e0b','#ef4444'][Math.floor(Math.random()*5)];
          ctx.fillRect(-p.r, -p.r, p.r*2, p.r*2);
          ctx.restore();
          if(p.y > h+10){ p.y = -10; p.x = Math.random()*w; }
        }
        t++;
        requestAnimationFrame(draw);
      }
      draw();
    }

    tick();
  </script>
</body>
</html>
